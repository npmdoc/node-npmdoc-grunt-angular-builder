<html><head></head><body><div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a href="https://github.com/claudio-silva/grunt-angular-builder">grunt-angular-builder (v0.5.2)</a>
</h1>
<h4>A project builder for AngularJS applications.</h4>
<div class="apidocSectionDiv"><a href="#apidoc.tableOfContents" id="apidoc.tableOfContents"><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.grunt-angular-builder">module grunt-angular-builder</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-angular-builder.grunt-angular-builder">
            function <span class="apidocSignatureSpan"></span>grunt-angular-builder
            <span class="apidocSignatureSpan">(grunt)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">grunt-angular-builder.</span>analyzeSourceCode</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">grunt-angular-builder.</span>buildAssets</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">grunt-angular-builder.</span>buildForeignScripts</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">grunt-angular-builder.</span>exportRequiredStylesheets</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">grunt-angular-builder.</span>exportRequiredTemplates</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">grunt-angular-builder.</span>exportSourcePaths</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">grunt-angular-builder.</span>gruntUtil</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">grunt-angular-builder.</span>includeRequiredScripts</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">grunt-angular-builder.</span>makeDebugBuild</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">grunt-angular-builder.</span>makeReleaseBuild</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">grunt-angular-builder.</span>overrideDependencies</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">grunt-angular-builder.</span>sandboxRun</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">grunt-angular-builder.</span>sourceExtract</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">grunt-angular-builder.</span>sourceTrans</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">grunt-angular-builder.</span>types</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.grunt-angular-builder.analyzeSourceCode">module grunt-angular-builder.analyzeSourceCode</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-angular-builder.analyzeSourceCode.middleware">
            function <span class="apidocSignatureSpan">grunt-angular-builder.analyzeSourceCode.</span>middleware
            <span class="apidocSignatureSpan">(context)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.grunt-angular-builder.buildAssets">module grunt-angular-builder.buildAssets</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-angular-builder.buildAssets.middleware">
            function <span class="apidocSignatureSpan">grunt-angular-builder.buildAssets.</span>middleware
            <span class="apidocSignatureSpan">(context)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">grunt-angular-builder.buildAssets.</span>options</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.grunt-angular-builder.buildForeignScripts">module grunt-angular-builder.buildForeignScripts</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-angular-builder.buildForeignScripts.middleware">
            function <span class="apidocSignatureSpan">grunt-angular-builder.buildForeignScripts.</span>middleware
            <span class="apidocSignatureSpan">(context)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.grunt-angular-builder.exportRequiredStylesheets">module grunt-angular-builder.exportRequiredStylesheets</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-angular-builder.exportRequiredStylesheets.middleware">
            function <span class="apidocSignatureSpan">grunt-angular-builder.exportRequiredStylesheets.</span>middleware
            <span class="apidocSignatureSpan">(context)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">grunt-angular-builder.exportRequiredStylesheets.</span>options</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.grunt-angular-builder.exportRequiredTemplates">module grunt-angular-builder.exportRequiredTemplates</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-angular-builder.exportRequiredTemplates.middleware">
            function <span class="apidocSignatureSpan">grunt-angular-builder.exportRequiredTemplates.</span>middleware
            <span class="apidocSignatureSpan">(context)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">grunt-angular-builder.exportRequiredTemplates.</span>options</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.grunt-angular-builder.exportSourcePaths">module grunt-angular-builder.exportSourcePaths</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-angular-builder.exportSourcePaths.middleware">
            function <span class="apidocSignatureSpan">grunt-angular-builder.exportSourcePaths.</span>middleware
            <span class="apidocSignatureSpan">(context)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">grunt-angular-builder.exportSourcePaths.</span>options</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.grunt-angular-builder.gruntUtil">module grunt-angular-builder.gruntUtil</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-angular-builder.gruntUtil.arrayAppend">
            function <span class="apidocSignatureSpan">grunt-angular-builder.gruntUtil.</span>arrayAppend
            <span class="apidocSignatureSpan">(target, src)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-angular-builder.gruntUtil.csprintf">
            function <span class="apidocSignatureSpan">grunt-angular-builder.gruntUtil.</span>csprintf
            <span class="apidocSignatureSpan">(baseColor, str)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-angular-builder.gruntUtil.debug">
            function <span class="apidocSignatureSpan">grunt-angular-builder.gruntUtil.</span>debug
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-angular-builder.gruntUtil.escapeRegExp">
            function <span class="apidocSignatureSpan">grunt-angular-builder.gruntUtil.</span>escapeRegExp
            <span class="apidocSignatureSpan">(str)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-angular-builder.gruntUtil.extend">
            function <span class="apidocSignatureSpan">grunt-angular-builder.gruntUtil.</span>extend
            <span class="apidocSignatureSpan">(t)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-angular-builder.gruntUtil.fatal">
            function <span class="apidocSignatureSpan">grunt-angular-builder.gruntUtil.</span>fatal
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-angular-builder.gruntUtil.forEachProperty">
            function <span class="apidocSignatureSpan">grunt-angular-builder.gruntUtil.</span>forEachProperty
            <span class="apidocSignatureSpan">(obj, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-angular-builder.gruntUtil.getExplanation">
            function <span class="apidocSignatureSpan">grunt-angular-builder.gruntUtil.</span>getExplanation
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-angular-builder.gruntUtil.icsprintf">
            function <span class="apidocSignatureSpan">grunt-angular-builder.gruntUtil.</span>icsprintf
            <span class="apidocSignatureSpan">(baseColor, args)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-angular-builder.gruntUtil.indent">
            function <span class="apidocSignatureSpan">grunt-angular-builder.gruntUtil.</span>indent
            <span class="apidocSignatureSpan">(text, level, indentStr)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-angular-builder.gruntUtil.info">
            function <span class="apidocSignatureSpan">grunt-angular-builder.gruntUtil.</span>info
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-angular-builder.gruntUtil.init">
            function <span class="apidocSignatureSpan">grunt-angular-builder.gruntUtil.</span>init
            <span class="apidocSignatureSpan">(gruntInstance)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-angular-builder.gruntUtil.reportErrorLocation">
            function <span class="apidocSignatureSpan">grunt-angular-builder.gruntUtil.</span>reportErrorLocation
            <span class="apidocSignatureSpan">(path)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-angular-builder.gruntUtil.sortFilesAfterSubfolders">
            function <span class="apidocSignatureSpan">grunt-angular-builder.gruntUtil.</span>sortFilesAfterSubfolders
            <span class="apidocSignatureSpan">(filePaths)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-angular-builder.gruntUtil.sortFilesBeforeSubfolders">
            function <span class="apidocSignatureSpan">grunt-angular-builder.gruntUtil.</span>sortFilesBeforeSubfolders
            <span class="apidocSignatureSpan">(filePaths)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-angular-builder.gruntUtil.sprintf">
            function <span class="apidocSignatureSpan">grunt-angular-builder.gruntUtil.</span>sprintf
            <span class="apidocSignatureSpan">(str)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-angular-builder.gruntUtil.strRepeat">
            function <span class="apidocSignatureSpan">grunt-angular-builder.gruntUtil.</span>strRepeat
            <span class="apidocSignatureSpan">(str, num)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-angular-builder.gruntUtil.toQuotedList">
            function <span class="apidocSignatureSpan">grunt-angular-builder.gruntUtil.</span>toQuotedList
            <span class="apidocSignatureSpan">(array)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-angular-builder.gruntUtil.tokenize">
            function <span class="apidocSignatureSpan">grunt-angular-builder.gruntUtil.</span>tokenize
            <span class="apidocSignatureSpan">(syntax)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-angular-builder.gruntUtil.warn">
            function <span class="apidocSignatureSpan">grunt-angular-builder.gruntUtil.</span>warn
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-angular-builder.gruntUtil.writeFile">
            function <span class="apidocSignatureSpan">grunt-angular-builder.gruntUtil.</span>writeFile
            <span class="apidocSignatureSpan">(path, content, overwrite)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-angular-builder.gruntUtil.writeln">
            function <span class="apidocSignatureSpan">grunt-angular-builder.gruntUtil.</span>writeln
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">grunt-angular-builder.gruntUtil.</span>NL</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.grunt-angular-builder.includeRequiredScripts">module grunt-angular-builder.includeRequiredScripts</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-angular-builder.includeRequiredScripts.middleware">
            function <span class="apidocSignatureSpan">grunt-angular-builder.includeRequiredScripts.</span>middleware
            <span class="apidocSignatureSpan">(context)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.grunt-angular-builder.makeDebugBuild">module grunt-angular-builder.makeDebugBuild</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-angular-builder.makeDebugBuild.middleware">
            function <span class="apidocSignatureSpan">grunt-angular-builder.makeDebugBuild.</span>middleware
            <span class="apidocSignatureSpan">(context)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">grunt-angular-builder.makeDebugBuild.</span>options</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.grunt-angular-builder.makeReleaseBuild">module grunt-angular-builder.makeReleaseBuild</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-angular-builder.makeReleaseBuild.middleware">
            function <span class="apidocSignatureSpan">grunt-angular-builder.makeReleaseBuild.</span>middleware
            <span class="apidocSignatureSpan">(context)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">grunt-angular-builder.makeReleaseBuild.</span>options</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.grunt-angular-builder.overrideDependencies">module grunt-angular-builder.overrideDependencies</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-angular-builder.overrideDependencies.middleware">
            function <span class="apidocSignatureSpan">grunt-angular-builder.overrideDependencies.</span>middleware
            <span class="apidocSignatureSpan">(context)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">grunt-angular-builder.overrideDependencies.</span>options</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.grunt-angular-builder.sandboxRun">module grunt-angular-builder.sandboxRun</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-angular-builder.sandboxRun.detectInvalidSourceCode">
            function <span class="apidocSignatureSpan">grunt-angular-builder.sandboxRun.</span>detectInvalidSourceCode
            <span class="apidocSignatureSpan">(source)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.grunt-angular-builder.sourceExtract">module grunt-angular-builder.sourceExtract</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-angular-builder.sourceExtract.extractClosure">
            function <span class="apidocSignatureSpan">grunt-angular-builder.sourceExtract.</span>extractClosure
            <span class="apidocSignatureSpan">(source, clean, closureBody)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-angular-builder.sourceExtract.extractModuleHeader">
            function <span class="apidocSignatureSpan">grunt-angular-builder.sourceExtract.</span>extractModuleHeader
            <span class="apidocSignatureSpan">(source)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-angular-builder.sourceExtract.getModuleClosureInfo">
            function <span class="apidocSignatureSpan">grunt-angular-builder.sourceExtract.</span>getModuleClosureInfo
            <span class="apidocSignatureSpan">(source)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-angular-builder.sourceExtract.matchWhiteSpaceOrComments">
            function <span class="apidocSignatureSpan">grunt-angular-builder.sourceExtract.</span>matchWhiteSpaceOrComments
            <span class="apidocSignatureSpan">(source)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-angular-builder.sourceExtract.moduleExtractionPattern">
            function <span class="apidocSignatureSpan">grunt-angular-builder.sourceExtract.</span>moduleExtractionPattern
            <span class="apidocSignatureSpan">(moduleName)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-angular-builder.sourceExtract.trimComments">
            function <span class="apidocSignatureSpan">grunt-angular-builder.sourceExtract.</span>trimComments
            <span class="apidocSignatureSpan">(source)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">grunt-angular-builder.sourceExtract.</span>EXTRACT_STAT</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.grunt-angular-builder.sourceTrans">module grunt-angular-builder.sourceTrans</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-angular-builder.sourceTrans.optimize">
            function <span class="apidocSignatureSpan">grunt-angular-builder.sourceTrans.</span>optimize
            <span class="apidocSignatureSpan">(source, moduleName, moduleVar)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-angular-builder.sourceTrans.renameModuleRefExps">
            function <span class="apidocSignatureSpan">grunt-angular-builder.sourceTrans.</span>renameModuleRefExps
            <span class="apidocSignatureSpan">(module, source, moduleVar)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-angular-builder.sourceTrans.renameModuleVariableRefs">
            function <span class="apidocSignatureSpan">grunt-angular-builder.sourceTrans.</span>renameModuleVariableRefs
            <span class="apidocSignatureSpan">(source, oldVar, moduleVar)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-angular-builder.sourceTrans.validateUnwrappedCode">
            function <span class="apidocSignatureSpan">grunt-angular-builder.sourceTrans.</span>validateUnwrappedCode
            <span class="apidocSignatureSpan">(source)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">grunt-angular-builder.sourceTrans.</span>TRANS_STAT</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.grunt-angular-builder.types">module grunt-angular-builder.types</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-angular-builder.types.Context">
            function <span class="apidocSignatureSpan">grunt-angular-builder.types.</span>Context
            <span class="apidocSignatureSpan">(grunt, task, defaultOptions)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-angular-builder.types.ExtensionInterface">
            function <span class="apidocSignatureSpan">grunt-angular-builder.types.</span>ExtensionInterface
            <span class="apidocSignatureSpan">(context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-angular-builder.types.ModuleDef">
            function <span class="apidocSignatureSpan">grunt-angular-builder.types.</span>ModuleDef
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-angular-builder.types.TaskOptions">
            function <span class="apidocSignatureSpan">grunt-angular-builder.types.</span>TaskOptions
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">grunt-angular-builder.types.</span>ContextEvent</span>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.grunt-angular-builder" id="apidoc.module.grunt-angular-builder">module grunt-angular-builder</a></h1>


    <h2>
        <a href="#apidoc.element.grunt-angular-builder.grunt-angular-builder" id="apidoc.element.grunt-angular-builder.grunt-angular-builder">
        function <span class="apidocSignatureSpan"></span>grunt-angular-builder
        <span class="apidocSignatureSpan">(grunt)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">grunt-angular-builder = function (grunt)
{
  require ('time-grunt') (grunt);

  // Project configuration.
  grunt.initConfig ({

    jshint: {
      all:     [
        'Gruntfile.js',
        'tasks<span class="apidocCodeCommentSpan">/**/*.js'
      ],
      options: {
        jshintrc: '.jshintrc'
      }
    },

    // Before generating any new files, remove any previously-created files.
    clean:  {
      tests: ['tmp', 'dist']
    },

    'angular-builder': {
      'test-js-app':              {
        options: {
          mainModule:      'App',
          externalModules: 'Library1'
        },
        src:     'tests/js-only/**/*.js',
        dest:    'dist/main.js'
      },
      'test-js-lib':              {
        options: {
          mainModule:   'Library1',
          releaseBuild: {
            renameModuleRefs: true
          }
        },
        src:     'tests/js-only/**/*.js',
        dest:    'dist/library1.js'
      },
      'test-js-fail':             {
        /** Warning: The module variable reference declare doesn't match the preset name
         on the config setting moduleVar='module'. File: tests/js-only/extra/Submodule4.js */
</span>        options: {
          mainModule: 'Library2'
        },
        src:     'tests/js-only/**/*.js',
        dest:    'dist/library2.js'
      },
      'test-js-comments':         {
        options: {
          mainModule: 'Library3'
        },
        src:     'tests/js-only/**/*.js',
        dest:    'dist/library3.js'
      },
      'test-stylesheets':         {
        options: {
          mainModule: 'Submodule1'
        },
        src:     [
          'tests/stylesheets/submodule1/**/*.js',
          'tests/stylesheets/submodule2/**/*.js'
        ],
        dest:    'dist/main.js'
      },
      'test-assets':              {
        options: {
          mainModule: 'App',
          assets:     {
            enabled:   true,
            targetDir: 'styles',
            symlink:   true
          }
        },
        src:     'tests/stylesheets/**/*.js',
        dest:    'dist/main.js'
      },
      'test-3rd-party':           {
        options:      {
          mainModule: 'App'
        },
        src:          'tests/3rd-party/**/*.js',
        dest:         'dist/main.js',
        forceInclude: 'tests/3rd-party/angular-loader.js'
      },
      'test-include-non-angular': {
        options:      {
          mainModule: 'App'
        },
        src:          'tests/include-non-angular/**/*.js',
        dest:         'dist/main.js',
        forceInclude: 'tests/include-non-angular/other/other.js'
      },
      'test-include-and-rebase':  {
        options:      {
          mainModule:   'App',
          debugBuild:   {
            rebaseDebugUrls: [
              { match: /other\//, replaceWith: '' }, //remove path segment
              { match: /tests\/include-non-angular/, replaceWith: 'js' }, //replace base path
              { match: /^.*demo.js$/, replaceWith: '' } //suppress library
            ]
          }
        },
        src:          'tests/include-non-angular/**/*.js',
        dest:         'dist/main.js',
        forceInclude: 'tests/include-non-angular/other/other.js'
      },
      'test-override-deps':       {
        options: {
          mainModule:           'App',
          overrideDependencies: {
            dependencies: ['Submodule1', 'Library1']
          }
        },
        src:     ['tests/js-only/**/*.js', '!tests/js-only/App.js'],
        dest:    'dist/main.js'
      },
      'test-slashes':       {
        options: {
          mainModule:           'App'
        },
        src:     ['tests/slashes/**/*.js'],
        dest:    'dist/main.js'
      }
    },

    concat: {
      'test-stylesheets': {
        src:  '&lt;%= requiredStylesheets %&gt;',
        dest: 'dist/styles.css'
      },
      'test-assets':      {
        src:  '&lt;%= requiredStylesheets %&gt;',
        dest: 'dist/styles/styles.css'
      },
      '3rd-party':        {
        src:  'tests/3rd-party/index.html',
        dest: 'dist/index.html'
      }
    },

    jsdoc: {
      dist: {
        // Force usage of JSDoc 3.3.0
        jsd ...</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>
































</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.grunt-angular-builder.analyzeSourceCode" id="apidoc.module.grunt-angular-builder.analyzeSourceCode">module grunt-angular-builder.analyzeSourceCode</a></h1>


    <h2>
        <a href="#apidoc.element.grunt-angular-builder.analyzeSourceCode.middleware" id="apidoc.element.grunt-angular-builder.analyzeSourceCode.middleware">
        function <span class="apidocSignatureSpan">grunt-angular-builder.analyzeSourceCode.</span>middleware
        <span class="apidocSignatureSpan">(context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function AnalyzeSourceCodeMiddleware(context)
{
  var grunt = context.grunt;

  //--------------------------------------------------------------------------------------------------------------------
  // PUBLIC API
  //--------------------------------------------------------------------------------------------------------------------

  this.analyze = function (filesArray)
  {
    var src = util.sortFilesBeforeSubfolders (filesArray.src);

    // Load the script files and scan them for module definitions.
    src.forEach (function (path)
    {

      if (!grunt.file.exists (path)) {
        warn ('Source file "' + path + '" not found.');
        return;
      }
      // Read the script and scan it for a module declaration.
      var script = grunt.file.read (path);
      var moduleHeader = sourceExtract.extractModuleHeader (script);
      // Ignore irrelevant files.
      if (!moduleHeader) {
        if (!filesArray.forceInclude || !grunt.file.isMatch ({matchBase: true}, filesArray.forceInclude, path)) {
          info ('Ignored file: %', path.cyan);
          return;
        }
        context.standaloneScripts.push ({
          path:    path,
          content: script
        });
      }
      else setupModuleInfo (moduleHeader, script, path);
    });

  };

  this.trace = function (module)
  {
<span class="apidocCodeCommentSpan">    /* jshint unused: vars */
</span>    // Do nothing
  };

  this.build = function (targetScript)
  {
    /* jshint unused: vars */
    // Do nothing
  };

  //--------------------------------------------------------------------------------------------------------------------
  // PRIVATE
  //--------------------------------------------------------------------------------------------------------------------

  /**
   * Store information about the specified module retrieved from the given source code on the specified file.
   *
   * @param {ModuleHeaderInfo} moduleHeader
   * @param {string} fileContent
   * @param {string} filePath
   */
  function setupModuleInfo (moduleHeader, fileContent, filePath)
  {
    var STAT = sourceExtract.EXTRACT_STAT;
    switch (moduleHeader.status) {

      case STAT.OK:

        // Get information about the specified module.
        var module = context.modules[moduleHeader.name];
        // If this is the first time a specific module is mentioned, create the respective information record.
        if (!module)
          module = context.modules[moduleHeader.name] = new ModuleDef (moduleHeader.name);
        // Skip the file if it defines an external module.
        else if (module.external)
          return;
        // Reject additional attempts to redeclare a module (only appending is allowed).
        else if (module.head &amp;&amp; !moduleHeader.append)
          fatal ('Can\'t redeclare module &lt;cyan&gt;%&lt;/cyan&gt;', moduleHeader.name);
        // The file is appending definitions to a module declared elsewhere.
        if (moduleHeader.append) {
          module.bodies.push (fileContent);
          // Append the file path to the bottom of the paths list.
          module.filePaths.push (filePath);
        }
        // Otherwise, the file contains a module declaration.
        else {
          if (module.head)
            fatal ('Duplicate module definition: &lt;cyan&gt;%&lt;/cyan&gt;', moduleHeader.name);
          module.head = fileContent;
          // Add the file path to the top of the paths list.
          module.filePaths.unshift (filePath);
          module.requires = moduleHeader.requires;
        }
        module.configFn = moduleHeader.configFn;
        break;

      case STAT.MULTIPLE_MODULES:

        warn ('Definitions for multiple modules were found on the same file.' + NL + reportErrorLocation (filePath));
        break;

      case STAT.MULTIPLE_DECLS:

        warn ('More than one module declaration was found on the same file.' + NL + reportErrorLocation (filePath));
    }
  }

}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.grunt-angular-builder.buildAssets" id="apidoc.module.grunt-angular-builder.buildAssets">module grunt-angular-builder.buildAssets</a></h1>


    <h2>
        <a href="#apidoc.element.grunt-angular-builder.buildAssets.middleware" id="apidoc.element.grunt-angular-builder.buildAssets.middleware">
        function <span class="apidocSignatureSpan">grunt-angular-builder.buildAssets.</span>middleware
        <span class="apidocSignatureSpan">(context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function BuildAssetsMiddleware(context)
{
  var grunt = context.grunt
    , options = context.options.assets;

<span class="apidocCodeCommentSpan">  /**
   * Records which files have been already exported.
   * Prevents duplicate asset exports.
   * It's a map of absolute file names to boolean `true`.
   * @type {Object.&lt;string,boolean&gt;}
   */
</span>  var exportedAssets = {};

  //--------------------------------------------------------------------------------------------------------------------
  // PUBLIC API
  //--------------------------------------------------------------------------------------------------------------------

  this.analyze = function (filesArray)
  {
    /* jshint unused: vars */
    // Do nothing
  };

  this.trace = function (module)
  {
    /* jshint unused: vars */
    // Do nothing.
  };

  this.build = function (targetScript)
  {
    if (!options.enabled) return;
    // Import file paths.
    var stylehseets = grunt.config (context.options.requiredStylesheets.exportToConfigProperty);
    if (!stylehseets) return; // No stylesheet sources are configured.
    var targetPath = path.dirname (targetScript);
    stylehseets.forEach (function (filePath)
    {
      var src = grunt.file.read (filePath);
      scan (path.dirname (filePath), targetPath, src);
    });

  };

  //--------------------------------------------------------------------------------------------------------------------
  // PRIVATE
  //--------------------------------------------------------------------------------------------------------------------

  /**
   * Scans a stylesheet for asset URL references and copies the assets to the build folder.
   * @private
   * @param {string} basePath
   * @param {string} targetPath
   * @param {string} sourceCode
   */
  function scan (basePath, targetPath, sourceCode)
  {
    var match;
    while ((match = MATCH_URLS.exec (sourceCode))) {
      var url = match[2];
      if (!url.match (/^http/i) &amp;&amp; url[0] !== '/') { // Skip absolute URLs
        var absSrcPath = path.resolve (basePath, url)
          , absDestPath = path.resolve (targetPath, options.targetDir, url)
          , relDestPath = path.relative (targetPath, absDestPath);
        if (relDestPath[0] === '.')
          return util.warn ('Relative asset url falls outside the build folder: &lt;cyan&gt;%&lt;/cyan&gt;%', url, util.NL);
        if (exportedAssets[absDestPath]) // skip already exported asset
          continue;
        else exportedAssets[absDestPath] = true;
        var absTargetFolder = path.dirname (absDestPath);
        grunt.file.mkdir (absTargetFolder);
        if (options.symlink)
          fs.symlinkSync (absSrcPath, absDestPath);
        else grunt.file.copy (absSrcPath, absDestPath);
      }
    }
  }

}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.grunt-angular-builder.buildForeignScripts" id="apidoc.module.grunt-angular-builder.buildForeignScripts">module grunt-angular-builder.buildForeignScripts</a></h1>


    <h2>
        <a href="#apidoc.element.grunt-angular-builder.buildForeignScripts.middleware" id="apidoc.element.grunt-angular-builder.buildForeignScripts.middleware">
        function <span class="apidocSignatureSpan">grunt-angular-builder.buildForeignScripts.</span>middleware
        <span class="apidocSignatureSpan">(context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function BuildForeignScriptsMiddleware(context)
{
  //--------------------------------------------------------------------------------------------------------------------
  // PUBLIC API
  //--------------------------------------------------------------------------------------------------------------------

  this.analyze = function (filesArray)
  {
<span class="apidocCodeCommentSpan">    /* jshint unused: vars */
</span>    // Do nothing
  };

  this.trace = function (module)
  {
    /* jshint unused: vars */
    // Do nothing
  };

  this.build = function (targetScript)
  {
    // Output the standalone scripts (if any).
    if (context.standaloneScripts.length) {

      // Debug Build

      if (context.options.debugBuild &amp;&amp; context.options.debugBuild.enabled) {
        var rep = context.options.debugBuild.rebaseDebugUrls;
        context.prependOutput += (context.standaloneScripts.map (function (e)
        {
          var path = e.path.replace (MATCH_PATH_SEP, '/'); // Convert file paths to URLs.
          if (rep)
            for (var i = 0, m = rep.length; i &lt; m; ++i)
              path = path.replace (rep[i].match, rep[i].replaceWith);
          if (path) // Ignore empty path; it means that this middleware should not output a script tag.
            return util.sprintf ('&lt;script src=\"%\"&gt;&lt;/script&gt;', path);
          return '';
        })
          .filter (function (x) {return x;}) // Remove empty paths.
          .join ('\\\n'));
      }

      // Release Build

      else if (context.options.releaseBuild &amp;&amp; context.options.releaseBuild.enabled) {
        /** @type {string[]} */
        var output = context.standaloneScripts.map (function (e) { return e.content; }).join (NL);

        util.writeFile (targetScript, output);
        //Note: the ensuing release/debug build step will append to the file created here.
      }
    }
  };

}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.grunt-angular-builder.exportRequiredStylesheets" id="apidoc.module.grunt-angular-builder.exportRequiredStylesheets">module grunt-angular-builder.exportRequiredStylesheets</a></h1>


    <h2>
        <a href="#apidoc.element.grunt-angular-builder.exportRequiredStylesheets.middleware" id="apidoc.element.grunt-angular-builder.exportRequiredStylesheets.middleware">
        function <span class="apidocSignatureSpan">grunt-angular-builder.exportRequiredStylesheets.</span>middleware
        <span class="apidocSignatureSpan">(context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ExportRequiredStylesheetsMiddleware(context)
{
  var options = context.options.requiredStylesheets;
  var path = require ('path');

<span class="apidocCodeCommentSpan">  /**
   * Paths of the required stylesheets.
   * @type {string[]}
   */
</span>  var paths = [];

  //--------------------------------------------------------------------------------------------------------------------
  // PUBLIC API
  //--------------------------------------------------------------------------------------------------------------------

  this.analyze = function (filesArray)
  {
    /* jshint unused: vars */
    // Do nothing
  };

  this.trace = function (/*ModuleDef*/ module)
  {
    scan (module.head, module.filePaths[0]);
    module.bodies.forEach (function (path, i)
    {
      scan (path, module.filePaths[i + 1]);
    });
  };

  this.build = function (targetScript)
  {
    /* jshint unused: vars */

    // Export file paths.
    context.grunt.config (options.exportToConfigProperty, paths);
  };

  //--------------------------------------------------------------------------------------------------------------------
  // PRIVATE
  //--------------------------------------------------------------------------------------------------------------------

  /**
   * Extracts file paths from embedded comment references to stylesheets and appends them to `paths`.
   * @param {string} sourceCode
   * @param {string} filePath
   */
  function scan (sourceCode, filePath)
  {
    /* jshint -W083 */
    var match;
    while ((match = MATCH_DIRECTIVE.exec (sourceCode))) {
      match[1].split (',').forEach (function (s)
      {
        var url = s.match (/(["'])(.*?)\1/)[2];
        paths.push (path.normalize (path.dirname (filePath) + '/' + url));
      });
    }
  }

}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.grunt-angular-builder.exportRequiredTemplates" id="apidoc.module.grunt-angular-builder.exportRequiredTemplates">module grunt-angular-builder.exportRequiredTemplates</a></h1>


    <h2>
        <a href="#apidoc.element.grunt-angular-builder.exportRequiredTemplates.middleware" id="apidoc.element.grunt-angular-builder.exportRequiredTemplates.middleware">
        function <span class="apidocSignatureSpan">grunt-angular-builder.exportRequiredTemplates.</span>middleware
        <span class="apidocSignatureSpan">(context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ExportRequiredTemplatesMiddleware(context)
{
  var options = context.options.requiredTemplates;
  var path = require ('path');

<span class="apidocCodeCommentSpan">  /**
   * Paths of the required templates.
   * @type {string[]}
   */
</span>  var paths = [];

  //--------------------------------------------------------------------------------------------------------------------
  // PUBLIC API
  //--------------------------------------------------------------------------------------------------------------------

  this.analyze = function (filesArray)
  {
    /* jshint unused: vars */
    // Do nothing
  };

  this.trace = function (module)
  {
    scan (module.head, module.filePaths[0]);
    module.bodies.forEach (function (path, i)
    {
      scan (path, module.filePaths[i + 1]);
    });
  };

  this.build = function (targetScript)
  {
    /* jshint unused: vars */

    // Export file paths.
    context.grunt.config (options.exportToConfigProperty, paths);
  };

  //--------------------------------------------------------------------------------------------------------------------
  // PRIVATE
  //--------------------------------------------------------------------------------------------------------------------

  /**
   * Extracts file paths from embedded comment references to templates and appends them to `paths`.
   * @param {string} sourceCode
   * @param {string} filePath
   */
  function scan (sourceCode, filePath)
  {
    /* jshint -W083 */
    var match;
    while ((match = MATCH_DIRECTIVE.exec (sourceCode))) {
      match[1].split (',').forEach (function (s)
      {
        var url = s.match (/(["'])(.*?)\1/)[2];
        paths.push (path.normalize (path.dirname (filePath) + '/' + url));
      });
    }
  }

}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.grunt-angular-builder.exportSourcePaths" id="apidoc.module.grunt-angular-builder.exportSourcePaths">module grunt-angular-builder.exportSourcePaths</a></h1>


    <h2>
        <a href="#apidoc.element.grunt-angular-builder.exportSourcePaths.middleware" id="apidoc.element.grunt-angular-builder.exportSourcePaths.middleware">
        function <span class="apidocSignatureSpan">grunt-angular-builder.exportSourcePaths.</span>middleware
        <span class="apidocSignatureSpan">(context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ExportSourceCodePathsMiddleware(context)
{
  var options = context.options.sourcePaths;
<span class="apidocCodeCommentSpan">  /**
   * Paths of all the required files (excluding standalone scripts) in the correct loading order.
   * @type {string[]}
   */
</span>  var tracedPaths = [];

  //--------------------------------------------------------------------------------------------------------------------
  // PUBLIC API
  //--------------------------------------------------------------------------------------------------------------------

  this.analyze = function (filesArray)
  {
    /* jshint unused: vars */
    // Do nothing
  };

  this.trace = function (module)
  {
    arrayAppend (tracedPaths, module.filePaths);
  };

  this.build = function (targetScript)
  {
    /* jshint unused: vars */

    var scripts = [];

    // Include paths of forced-include scripts.

    if (context.standaloneScripts.length)
      arrayAppend (scripts, context.standaloneScripts.map (function (e)
      {
        return e.path;
      }));

    // Include all module files.

    arrayAppend (scripts, tracedPaths);

    // Export.

    context.grunt.config (options.exportToConfigProperty, scripts);
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.grunt-angular-builder.gruntUtil" id="apidoc.module.grunt-angular-builder.gruntUtil">module grunt-angular-builder.gruntUtil</a></h1>


    <h2>
        <a href="#apidoc.element.grunt-angular-builder.gruntUtil.arrayAppend" id="apidoc.element.grunt-angular-builder.gruntUtil.arrayAppend">
        function <span class="apidocSignatureSpan">grunt-angular-builder.gruntUtil.</span>arrayAppend
        <span class="apidocSignatureSpan">(target, src)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">arrayAppend = function (target, src)
{
  return Array.prototype.push.apply (target, src);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.grunt-angular-builder.gruntUtil.csprintf" id="apidoc.element.grunt-angular-builder.gruntUtil.csprintf">
        function <span class="apidocSignatureSpan">grunt-angular-builder.gruntUtil.</span>csprintf
        <span class="apidocSignatureSpan">(baseColor, str)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function csprintf(baseColor, str)
{
<span class="apidocCodeCommentSpan">  /*jshint unused:false */
</span>  str = exports.sprintf.apply (null, [].slice.call (arguments, 1));
  str = str.replace (/&lt;(\w+)&gt;([\s\S]*?)&lt;\/\1&gt;/g, function (m, m1, m2)
  {
    if (m1 === 'bold' || m1 === 'underline')
      m2 = m2[baseColor];
    return 'Â±' + m2[m1] + 'Â§';
  });
  str = str.replace (/^([\s\S]*?)Â±|Â§([\s\S]*?)Â±|Â§([\s\S]*?)$/g, function (m, m1, m2, m3)
  {
    var s = m1 || (m2 || '') || (m3 || '');
    return s ? s[baseColor] : s;
  });
  return str[baseColor];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.grunt-angular-builder.gruntUtil.debug" id="apidoc.element.grunt-angular-builder.gruntUtil.debug">
        function <span class="apidocSignatureSpan">grunt-angular-builder.gruntUtil.</span>debug
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">debug = function ()
{
  Array.prototype.forEach.call (arguments, function (arg)
  {
    console.log (debug (arg, 0));
  });

  function debug (arg, depth)
  {
    var s = exports.strRepeat ('  ', depth);
    if (typeof arg === 'object') {
      var o = [];
      if (arg instanceof Array) {
        if (!arg.length)
          o.push ('[]');
        else {
          o.push ('[', NL);
          for (var i = 0; i &lt; arg.length; ++i)
            o.push (s, '  ', i, ': ', debug (arg[i], depth + 1), NL);
          o.push (s, ']');
        }
      }
      else {
        o.push ('{');
        var f = false;
        for (var k in arg) {
          f = true;
          o.push (NL, s, '  ', k, ': ', debug (arg[k], depth + 1));
        }
        if (f) o.push (NL, s);
        o.push ('}');
      }
      return o.join ('');
    }
    else return nodeUtil.inspect (arg, { showHidden: true, depth: 8, colors: true });
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.grunt-angular-builder.gruntUtil.escapeRegExp" id="apidoc.element.grunt-angular-builder.gruntUtil.escapeRegExp">
        function <span class="apidocSignatureSpan">grunt-angular-builder.gruntUtil.</span>escapeRegExp
        <span class="apidocSignatureSpan">(str)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">escapeRegExp = function (str)
{
  return str.replace(/[.^$*+?()[{\\|\]-]/g, '\\$&amp;');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
'use strict';

exports.middleware = BuildForeignScriptsMiddleware;

var util = require ('../lib/gruntUtil')
 , path = require ('path')
 , NL = util.NL
 , MATCH_PATH_SEP = new RegExp (util.<span class="apidocCodeKeywordSpan">escapeRegExp</span>(path.sep), 'g');

/**
* Builds non-angular-module scripts.
*
* On release builds, this extension saves all non-module script files required by the application into a
* single output file, in the correct loading order.
*
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.grunt-angular-builder.gruntUtil.extend" id="apidoc.element.grunt-angular-builder.gruntUtil.extend">
        function <span class="apidocSignatureSpan">grunt-angular-builder.gruntUtil.</span>extend
        <span class="apidocSignatureSpan">(t)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function extend(t)
{
  if (t === null || t === undefined)
    t = {};
  else if (typeof t !== 'object')
    throw new TypeError ('Invalid target argument');
  for (var i = 1, m = arguments.length, a, v; i &lt; m; ++i) {
    a = arguments[i];
    if (typeof a !== 'object')
      throw new TypeError ('Invalid source argument #' + i);
    for (var k in a) {
      v = a[k];
      switch (Object.prototype.toString.call (v)) {
        case '[object Object]':
          t[k] = extend (t[k], v);
          break;
        case '[object Array]':
          t[k] = v.slice ();
          break;
        default:
          t[k] = v;
      }
    }
  }
  return t;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.grunt-angular-builder.gruntUtil.fatal" id="apidoc.element.grunt-angular-builder.gruntUtil.fatal">
        function <span class="apidocSignatureSpan">grunt-angular-builder.gruntUtil.</span>fatal
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fatal = function ()
{
  grunt.fail.fatal (icsprintf ('red', arguments));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.grunt-angular-builder.gruntUtil.forEachProperty" id="apidoc.element.grunt-angular-builder.gruntUtil.forEachProperty">
        function <span class="apidocSignatureSpan">grunt-angular-builder.gruntUtil.</span>forEachProperty
        <span class="apidocSignatureSpan">(obj, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">forEachProperty = function (obj, callback)
{
  var p = [];
  for (var prop in obj)
    if (obj.hasOwnProperty (prop))
      callback (prop, obj[prop]);
  return p;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.grunt-angular-builder.gruntUtil.getExplanation" id="apidoc.element.grunt-angular-builder.gruntUtil.getExplanation">
        function <span class="apidocSignatureSpan">grunt-angular-builder.gruntUtil.</span>getExplanation
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getExplanation = function (msg)
{
  return (verbose ? exports.indent (csprintf ('grey', msg)) : '  Use -v for more info.'.grey) + NL;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.grunt-angular-builder.gruntUtil.icsprintf" id="apidoc.element.grunt-angular-builder.gruntUtil.icsprintf">
        function <span class="apidocSignatureSpan">grunt-angular-builder.gruntUtil.</span>icsprintf
        <span class="apidocSignatureSpan">(baseColor, args)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function icsprintf(baseColor, args)
{
  return exports.csprintf.apply (null, [baseColor].concat ([].slice.call (args)));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.grunt-angular-builder.gruntUtil.indent" id="apidoc.element.grunt-angular-builder.gruntUtil.indent">
        function <span class="apidocSignatureSpan">grunt-angular-builder.gruntUtil.</span>indent
        <span class="apidocSignatureSpan">(text, level, indentStr)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">indent = function (text, level, indentStr)
{
  return text.split (/\r?\n/).map (function (line)
  {
    return line.trim () &amp;&amp; (exports.strRepeat (indentStr || '  ', level || 1) + line);
  }).join (NL);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.grunt-angular-builder.gruntUtil.info" id="apidoc.element.grunt-angular-builder.gruntUtil.info">
        function <span class="apidocSignatureSpan">grunt-angular-builder.gruntUtil.</span>info
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">info = function ()
{
  if (verbose)
    grunt.log.writeln (icsprintf ('white', arguments));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.grunt-angular-builder.gruntUtil.init" id="apidoc.element.grunt-angular-builder.gruntUtil.init">
        function <span class="apidocSignatureSpan">grunt-angular-builder.gruntUtil.</span>init
        <span class="apidocSignatureSpan">(gruntInstance)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">init = function (gruntInstance)
{
  grunt = gruntInstance;
  verbose = grunt.option ('verbose');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.grunt-angular-builder.gruntUtil.reportErrorLocation" id="apidoc.element.grunt-angular-builder.gruntUtil.reportErrorLocation">
        function <span class="apidocSignatureSpan">grunt-angular-builder.gruntUtil.</span>reportErrorLocation
        <span class="apidocSignatureSpan">(path)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">reportErrorLocation = function (path)
{
  return csprintf ('yellow', '  File: &lt;cyan&gt;%&lt;/cyan&gt;' + NL, path);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.grunt-angular-builder.gruntUtil.sortFilesAfterSubfolders" id="apidoc.element.grunt-angular-builder.gruntUtil.sortFilesAfterSubfolders">
        function <span class="apidocSignatureSpan">grunt-angular-builder.gruntUtil.</span>sortFilesAfterSubfolders
        <span class="apidocSignatureSpan">(filePaths)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">sortFilesAfterSubfolders = function (filePaths)
{
  var out = []
    , tree = createFileTree (filePaths);

  // Iterate folders.

  (function iterate (folderNode)
  {
    for (var folder in folderNode.subfolders)
      if (folderNode.subfolders.hasOwnProperty (folder))
        iterate (folderNode.subfolders[folder]);

    folderNode.files.forEach (function (file)
    {
      out.push (file);
    });
  }) (tree);

  return out;

}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.grunt-angular-builder.gruntUtil.sortFilesBeforeSubfolders" id="apidoc.element.grunt-angular-builder.gruntUtil.sortFilesBeforeSubfolders">
        function <span class="apidocSignatureSpan">grunt-angular-builder.gruntUtil.</span>sortFilesBeforeSubfolders
        <span class="apidocSignatureSpan">(filePaths)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">sortFilesBeforeSubfolders = function (filePaths)
{
  var out = []
    , tree = createFileTree (filePaths);

  (function iterate (folderNode)
  {
    folderNode.files.forEach (function (file)
    {
      out.push (file);
    });

    for (var folder in folderNode.subfolders)
      if (folderNode.subfolders.hasOwnProperty (folder))
        iterate (folderNode.subfolders[folder]);
  }) (tree);

  return out;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.grunt-angular-builder.gruntUtil.sprintf" id="apidoc.element.grunt-angular-builder.gruntUtil.sprintf">
        function <span class="apidocSignatureSpan">grunt-angular-builder.gruntUtil.</span>sprintf
        <span class="apidocSignatureSpan">(str)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">sprintf = function (str)
{
  var c = 0
    , args = [].slice.call (arguments, 1);
  return str.replace (/%/g, function ()
  {
    return args[c++];
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.grunt-angular-builder.gruntUtil.strRepeat" id="apidoc.element.grunt-angular-builder.gruntUtil.strRepeat">
        function <span class="apidocSignatureSpan">grunt-angular-builder.gruntUtil.</span>strRepeat
        <span class="apidocSignatureSpan">(str, num)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">strRepeat = function (str, num)
{
  return num ? new Array (num + 1).join (str) : '';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.grunt-angular-builder.gruntUtil.toQuotedList" id="apidoc.element.grunt-angular-builder.gruntUtil.toQuotedList">
        function <span class="apidocSignatureSpan">grunt-angular-builder.gruntUtil.</span>toQuotedList
        <span class="apidocSignatureSpan">(array)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toQuotedList = function (array)
{
  return array.length ? "['" + array.join ("', '") + "']" : "[]";
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.grunt-angular-builder.gruntUtil.tokenize" id="apidoc.element.grunt-angular-builder.gruntUtil.tokenize">
        function <span class="apidocSignatureSpan">grunt-angular-builder.gruntUtil.</span>tokenize
        <span class="apidocSignatureSpan">(syntax)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">tokenize = function (syntax)
{
  return syntax.replace (/`/g, '\\').replace (/ /g, '\\s*');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.grunt-angular-builder.gruntUtil.warn" id="apidoc.element.grunt-angular-builder.gruntUtil.warn">
        function <span class="apidocSignatureSpan">grunt-angular-builder.gruntUtil.</span>warn
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">warn = function ()
{
  grunt.fail.warn (icsprintf ('yellow', arguments));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.grunt-angular-builder.gruntUtil.writeFile" id="apidoc.element.grunt-angular-builder.gruntUtil.writeFile">
        function <span class="apidocSignatureSpan">grunt-angular-builder.gruntUtil.</span>writeFile
        <span class="apidocSignatureSpan">(path, content, overwrite)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">writeFile = function (path, content, overwrite)
{
  if (grunt.file.exists (path)) {
    if (overwrite) {
      // Re-create file.
      grunt.file.delete (path);
      grunt.file.write (path, content);
    }
    else {
      // Append to existing file.
      var data = grunt.file.read (path);
      grunt.file.write (path, data + NL + content);
    }
  }
  // Create file.
  else grunt.file.write (path, content);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.grunt-angular-builder.gruntUtil.writeln" id="apidoc.element.grunt-angular-builder.gruntUtil.writeln">
        function <span class="apidocSignatureSpan">grunt-angular-builder.gruntUtil.</span>writeln
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">writeln = function ()
{
  grunt.log.writeln (icsprintf ('white', arguments));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.grunt-angular-builder.includeRequiredScripts" id="apidoc.module.grunt-angular-builder.includeRequiredScripts">module grunt-angular-builder.includeRequiredScripts</a></h1>


    <h2>
        <a href="#apidoc.element.grunt-angular-builder.includeRequiredScripts.middleware" id="apidoc.element.grunt-angular-builder.includeRequiredScripts.middleware">
        function <span class="apidocSignatureSpan">grunt-angular-builder.includeRequiredScripts.</span>middleware
        <span class="apidocSignatureSpan">(context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function IncludeRequiredScriptsMiddleware(context)
{
  var path = require ('path');

<span class="apidocCodeCommentSpan">  /**
   * Paths of the required scripts.
   * @type {string[]}
   */
</span>  var paths = [];

  /**
   * File content of the required scripts.
   * @type {string[]}
   */
  var sources = [];

  /**
   * Map of required script paths, as they are being resolved.
   * Prevents infinite recursion and redundant scans.
   * Note: paths will be registered here *before* being added to `paths`.
   * @type {Object.&lt;string,boolean&gt;}
   */
  var references = {};

  //--------------------------------------------------------------------------------------------------------------------
  // PUBLIC API
  //--------------------------------------------------------------------------------------------------------------------

  this.analyze = function (filesArray)
  {
    /* jshint unused: vars */
    // Do nothing
  };

  this.trace = function (module)
  {
    util.info ("Scanning &lt;cyan&gt;%&lt;/cyan&gt; for non-angular script dependencies...", module.name);
    scan (module.head, module.filePaths[0]);
    module.bodies.forEach (function (path, i)
    {
      scan (path, module.filePaths[i + 1]);
    });
  };

  this.build = function (targetScript)
  {
    /* jshint unused: vars */

    var scripts = paths.map (function (path, i)
    {
      return {
        path:    path,
        content: sources[i]
      };
    });
    util.arrayAppend (context.standaloneScripts, scripts);
    if (context.standaloneScripts.length) {
      var list = context.standaloneScripts.map (
        function (e, i) { return '  ' + (i + 1) + '. ' + e.path; }
      ).join (util.NL);
      util.info ("Required non-angular scripts:%&lt;cyan&gt;%&lt;/cyan&gt;", util.NL, list);
    }
  };

  //--------------------------------------------------------------------------------------------------------------------
  // PRIVATE
  //--------------------------------------------------------------------------------------------------------------------

  /**
   * Extracts file paths from embedded comment references to scripts and appends them to `paths`.
   * @param {string} sourceCode
   * @param {string} filePath
   */
  function scan (sourceCode, filePath)
  {
    /* jshint -W083 */
    var match
      , r = new RegExp (MATCH_DIRECTIVE);
    while ((match = r.exec (sourceCode))) {
      match[1].split (/\s*,\s*/).forEach (function (s)
      {
        var m = s.match (/(["'])(.*?)\1/);
        if (!m)
          util.warn ('syntax error on #script directive on argument ...&lt;cyan&gt; % &lt;/cyan&gt;...%At &lt;cyan&gt;%&lt;/cyan&gt;\t',
            s, util.NL, filePath);
        else {
          var url = m[2];
          var requiredPath = path.normalize (path.dirname (filePath) + '/' + url);
          // Check if this script was not already referenced.
          if (!references[requiredPath]) {
            references[requiredPath] = true;
            var source = context.grunt.file.read (requiredPath);
            // First, see if the required script has its own 'requires'.
            // If so, they must be required *before* the current script.
            scan (source, requiredPath);

            // Let's register the dependency now.
            paths.push (requiredPath);
            sources.push (source);
          }
        }
      });
    }
  }

}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.grunt-angular-builder.makeDebugBuild" id="apidoc.module.grunt-angular-builder.makeDebugBuild">module grunt-angular-builder.makeDebugBuild</a></h1>


    <h2>
        <a href="#apidoc.element.grunt-angular-builder.makeDebugBuild.middleware" id="apidoc.element.grunt-angular-builder.makeDebugBuild.middleware">
        function <span class="apidocSignatureSpan">grunt-angular-builder.makeDebugBuild.</span>middleware
        <span class="apidocSignatureSpan">(context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function MakeDebugBuildMiddleware(context)
{
  var options = context.options.debugBuild;
<span class="apidocCodeCommentSpan">  /** @type {string[]} */
</span>  var traceOutput = [];

  //--------------------------------------------------------------------------------------------------------------------
  // EVENTS
  //--------------------------------------------------------------------------------------------------------------------

  context.listen (ContextEvent.ON_AFTER_ANALYZE, function ()
  {
    if (options.enabled) {
      var space = context.verbose ? NL : '';
      writeln ('%Generating the &lt;cyan&gt;debug&lt;/cyan&gt; build...%', space, space);
    }
  });

  //--------------------------------------------------------------------------------------------------------------------
  // PUBLIC API
  //--------------------------------------------------------------------------------------------------------------------

  this.analyze = function (filesArray)
  {
    /* jshint unused: vars */
    // Do nothing
  };

  this.trace = function (/*ModuleDef*/ module)
  {
    if (!options.enabled) return;

    var rep = options.rebaseDebugUrls;
    module.filePaths.forEach (function (path)
    {
      if (rep)
        for (var i = 0, m = rep.length; i &lt; m; ++i)
          path = path.replace (rep[i].match, rep[i].replaceWith);
      if (path) // Ignore empty path; it means that this middleware should not output a script tag.
        traceOutput.push (util.sprintf ('&lt;script src=\"%\"&gt;&lt;/script&gt;', path));
    });
  };

  this.build = function (targetScript)
  {
    /* jshint unused: vars */

    if (!options.enabled) return;

    /** @type {string[]} */
    var output = ['document.write (\''];

    if (context.prependOutput)
      output.push (context.prependOutput);

    // Output the modules (if any).
    util.arrayAppend (output, traceOutput);

    if (context.appendOutput)
      output.push (context.appendOutput);

    output.push ('\');');
    util.writeFile (targetScript, output.join ('\\\n'));
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.grunt-angular-builder.makeReleaseBuild" id="apidoc.module.grunt-angular-builder.makeReleaseBuild">module grunt-angular-builder.makeReleaseBuild</a></h1>


    <h2>
        <a href="#apidoc.element.grunt-angular-builder.makeReleaseBuild.middleware" id="apidoc.element.grunt-angular-builder.makeReleaseBuild.middleware">
        function <span class="apidocSignatureSpan">grunt-angular-builder.makeReleaseBuild.</span>middleware
        <span class="apidocSignatureSpan">(context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function MakeReleaseBuildMiddleware(context)
{
  var options = context.options.releaseBuild;
<span class="apidocCodeCommentSpan">  /**
   * Grunt's verbose output API.
   * @type {Object}
   */
</span>  var verboseOut = context.grunt.log.verbose;
  /** @type {string[]} */
  var traceOutput = [];

  //--------------------------------------------------------------------------------------------------------------------
  // EVENTS
  //--------------------------------------------------------------------------------------------------------------------

  context.listen (ContextEvent.ON_AFTER_ANALYZE, function ()
  {
    if (options.enabled) {
      var space = context.verbose ? NL : '';
      writeln ('%Generating the &lt;cyan&gt;release&lt;/cyan&gt; build...%', space, space);
    }
  });

  //--------------------------------------------------------------------------------------------------------------------
  // PUBLIC API
  //--------------------------------------------------------------------------------------------------------------------

  this.analyze = function (filesArray)
  {
    /* jshint unused: vars */
    // Do nothing
  };

  this.trace = function (/*ModuleDef*/ module)
  {
    if (!options.enabled) return;

    // Fist process the head module declaration.
    if (!module.head)
      return util.warn ('Module &lt;cyan&gt;%&lt;/cyan&gt; has no declaration.', module.name);
    var head = optimize (module.head, module.filePaths[0], module);

    // Prevent the creation of an empty (or comments-only) self-invoking function.
    // In that case, the head content will be output without a wrapping closure.
    if (!module.bodies.length &amp;&amp; sourceExtract.matchWhiteSpaceOrComments (head.data)) {
      // Output the comments (if any).
      if (head.data.trim ())
        traceOutput.push (head.data);
      // Output a module declaration with no definitions.
      traceOutput.push (sprintf ('angular.module (\'%\', %);%', module.name,
          util.toQuotedList (module.requires), options.moduleFooter)
      );
    }
    // Enclose the module contents in a self-invoking function which receives the module instance as an argument.
    else {
      // Begin closure.
      traceOutput.push ('(function (' + options.moduleVar + ') {\n');
      // Insert module declaration.
      traceOutput.push (conditionalIndent (head));
      // Insert additional module definitions.
      for (var i = 0, m = module.bodies.length; i &lt; m; ++i) {
        var body = optimize (module.bodies[i], module.filePaths[i + 1], module);
        traceOutput.push (conditionalIndent (body));
      }
      // End closure.
      traceOutput.push (sprintf ('\n}) (angular.module (\'%\', %%));%', module.name,
        util.toQuotedList (module.requires), module.configFn || '', options.moduleFooter));
    }
  };

  this.build = function (targetScript)
  {
    if (!options.enabled) return;

    if (context.prependOutput)
      traceOutput.unshift (context.prependOutput);
    if (context.appendOutput)
      traceOutput.push (context.appendOutput);

    util.writeFile (targetScript, traceOutput.join (NL));
  };

  //--------------------------------------------------------------------------------------------------------------------
  // PRIVATE
  //--------------------------------------------------------------------------------------------------------------------

  /**
   * Calls sourceTrans.optimize() and handles the result.
   *
   * @param {string} source
   * @param {string} path For error messages.
   * @param {ModuleDef} module
   * @returns {OperationResult} The transformed source code.
   * @throws Error Sanity check.
   */
  function optimize (source, path, module)
  {
    var result = sourceTrans.optimize (source, module.name, options.moduleVar);
    var stat = sourceTrans.TRANS_STAT;
    switch (result.status) {

      case stat.OK:

        //----------------------------------------------------------
        // Module already enclosed in a closure with no arguments.
        //----------------------------------------------------------
        return /** @type {OperationResult}Â&nbsp;*/ {
          status: STAT.INDENTED,
          d ...</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.grunt-angular-builder.overrideDependencies" id="apidoc.module.grunt-angular-builder.overrideDependencies">module grunt-angular-builder.overrideDependencies</a></h1>


    <h2>
        <a href="#apidoc.element.grunt-angular-builder.overrideDependencies.middleware" id="apidoc.element.grunt-angular-builder.overrideDependencies.middleware">
        function <span class="apidocSignatureSpan">grunt-angular-builder.overrideDependencies.</span>middleware
        <span class="apidocSignatureSpan">(context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function OverrideDependenciesMiddleware(context)
{
<span class="apidocCodeCommentSpan">  /* jshint unused: vars */
</span>  var options = context.options.overrideDependencies
    , enabled = options.dependencies &amp;&amp; options.dependencies.length;

  //--------------------------------------------------------------------------------------------------------------------
  // PUBLIC API
  //--------------------------------------------------------------------------------------------------------------------

  this.analyze = function (filesArray)
  {
    /* jshint unused: vars */
    if (!enabled) return;

    var mainModuleName = context.options.mainModule;
    var mainModule = context.modules[mainModuleName] = new ModuleDef (mainModuleName);
    mainModule.requires = options.dependencies;
    // Must define an empty path corresponding to the (non-existent) file that declared the module.
    mainModule.filePaths = [''];
    // Must set head to a non-empty string to mark the module as being initialized.
    mainModule.head = ' ';
  };

  this.trace = function (module)
  {
    /* jshint unused: vars */
  };

  this.build = function (targetScript)
  {
    /* jshint unused: vars */
    if (!enabled) return;

    if (context.options.debugBuild &amp;&amp; context.options.debugBuild.enabled) {
      var declaration = sprintf ("angular.module('%',%);",
        context.options.mainModule,
        util.toQuotedList (options.dependencies)
      );
      context.appendOutput += sprintf ('&lt;script&gt;%&lt;/script&gt;', declaration);
    }
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.grunt-angular-builder.sandboxRun" id="apidoc.module.grunt-angular-builder.sandboxRun">module grunt-angular-builder.sandboxRun</a></h1>


    <h2>
        <a href="#apidoc.element.grunt-angular-builder.sandboxRun.detectInvalidSourceCode" id="apidoc.element.grunt-angular-builder.sandboxRun.detectInvalidSourceCode">
        function <span class="apidocSignatureSpan">grunt-angular-builder.sandboxRun.</span>detectInvalidSourceCode
        <span class="apidocSignatureSpan">(source)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">detectInvalidSourceCode = function (source)
{
  var vm = require ('vm')
    , mockupMethod = function () { return angularModuleMockup; }
    , angularModuleMockup = {
        animation:  mockupMethod,
        config:     mockupMethod,
        constant:   mockupMethod,
        controller: mockupMethod,
        directive:  mockupMethod,
        factory:    mockupMethod,
        filter:     mockupMethod,
        provider:   mockupMethod,
        run:        mockupMethod,
        service:    mockupMethod,
        value:      mockupMethod
      }
    , noop = function () {}
    , consoleMockup = {
        assert:         noop,
        debug:          noop,
        count:          noop,
        error:          noop,
        group:          noop,
        groupCollapsed: noop,
        groupEnd:       noop,
        info:           noop,
        log:            noop,
        profile:        noop,
        profileEnd:     noop,
        time:           noop,
        timeEnd:        noop,
        timeStamp:      noop,
        trace:          noop,
        warn:           noop
      }
    , sandbox = {
        angular: {
          module: function () { return angularModuleMockup; }
        },
        console: consoleMockup,
        window:  {}
      };
  try {
    vm.runInNewContext (source, sandbox);
    delete sandbox.angular;
    delete sandbox.console;
    delete sandbox.window;
    // Check if the sandbox contains any property at all.
<span class="apidocCodeCommentSpan">    /*jshint unused:false */
</span>    for (var prop in sandbox)
      throw sandbox;
    return false;
  }
  catch (e) {
    // Code execution failed with an undefined reference or at least one new variable of function has been added to
    // the global scope.
    delete sandbox.angular;
    delete sandbox.console;
    delete sandbox.window;
    return sandbox;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.grunt-angular-builder.sourceExtract" id="apidoc.module.grunt-angular-builder.sourceExtract">module grunt-angular-builder.sourceExtract</a></h1>


    <h2>
        <a href="#apidoc.element.grunt-angular-builder.sourceExtract.extractClosure" id="apidoc.element.grunt-angular-builder.sourceExtract.extractClosure">
        function <span class="apidocSignatureSpan">grunt-angular-builder.sourceExtract.</span>extractClosure
        <span class="apidocSignatureSpan">(source, clean, closureBody)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">extractClosure = function (source, clean, closureBody)
{
  var p = source.indexOf (clean);
  // Extract any comments found before the closure.
  var before = source.substr (0, p);
  // Extract any comments found after the closure.
  var after = source.substr (p + clean.length);

  return before + closureBody + after;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.grunt-angular-builder.sourceExtract.extractModuleHeader" id="apidoc.element.grunt-angular-builder.sourceExtract.extractModuleHeader">
        function <span class="apidocSignatureSpan">grunt-angular-builder.sourceExtract.</span>extractModuleHeader
        <span class="apidocSignatureSpan">(source)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">extractModuleHeader = function (source)
{
  var LEADING_COMMENT = 1
    , MODULE_NAME = 2
    , MODULE_DEPS = 3
    , CONFIG_FN = 4;
  var R = new RegExp (tokenize (MATCH_LEADING_COMMENT + MODULE_DECL_EXP), 'ig');
  var all = [], m;

  // Collect all matches but exclude declarations inside comment blocks.
  while ((m = R.exec (source)) !== null)
    if (!m[LEADING_COMMENT] || m[LEADING_COMMENT].match (/\*\//))
      all.push (m);

  // Ignore the file if it has no angular module definition.
  if (!all.length)
    return null;
  var moduleName = all[0][MODULE_NAME]
    , headerIndex = false;
  for (var i = 0, x = all.length; i &lt; x; ++i) {
    if (all[i][MODULE_NAME] !== moduleName)
      return {status: EXTRACT_STAT.MULTIPLE_MODULES};
    if (all[i][MODULE_DEPS] !== undefined) {
      if (headerIndex === false)
        headerIndex = i;
      else return {status: EXTRACT_STAT.MULTIPLE_DECLS};
    }
  }
  m = all[headerIndex || 0];
  return /** @type {ModuleHeaderInfo} */ {
    status:   EXTRACT_STAT.OK,
    name:     moduleName,
    append:   headerIndex === false,
    requires: m[MODULE_DEPS] &amp;&amp;
                JSON.parse (
                  m[MODULE_DEPS]
                    .replace (MATCH_COMMENT_BLOCKS, '')
                    .replace (MATCH_LAST_COMMA, '')
                    .replace (/'/g, '"')
                ) || [],
    configFn: m[CONFIG_FN]
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.grunt-angular-builder.sourceExtract.getModuleClosureInfo" id="apidoc.element.grunt-angular-builder.sourceExtract.getModuleClosureInfo">
        function <span class="apidocSignatureSpan">grunt-angular-builder.sourceExtract.</span>getModuleClosureInfo
        <span class="apidocSignatureSpan">(source)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getModuleClosureInfo = function (source)
{
<span class="apidocCodeCommentSpan">  /** @type {Array.&lt;string&gt;} */
</span>  var m;
  if ((m = source.match (MATCH_MODULE_CLOSURE))) {
    // Extract the function's body and some additional information about the module and how it's being declared.
    return /** @type {ModuleClosureInfo} */{
      moduleVar:   m[1],
      closureBody: m[2],
      moduleDecl:  m[3],
      moduleName:  m[4],
      moduleDeps:  m[5]
    };
  }
  return false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.grunt-angular-builder.sourceExtract.matchWhiteSpaceOrComments" id="apidoc.element.grunt-angular-builder.sourceExtract.matchWhiteSpaceOrComments">
        function <span class="apidocSignatureSpan">grunt-angular-builder.sourceExtract.</span>matchWhiteSpaceOrComments
        <span class="apidocSignatureSpan">(source)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">matchWhiteSpaceOrComments = function (source)
{
  return source.match (MATCH_NO_SCRIPT) !== null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.grunt-angular-builder.sourceExtract.moduleExtractionPattern" id="apidoc.element.grunt-angular-builder.sourceExtract.moduleExtractionPattern">
        function <span class="apidocSignatureSpan">grunt-angular-builder.sourceExtract.</span>moduleExtractionPattern
        <span class="apidocSignatureSpan">(moduleName)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">moduleExtractionPattern = function (moduleName)
{
  return new RegExp (tokenize (MODULE_EXTR_EXP.replace ('&lt;MOD&gt;', moduleName), 'ig'));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.grunt-angular-builder.sourceExtract.trimComments" id="apidoc.element.grunt-angular-builder.sourceExtract.trimComments">
        function <span class="apidocSignatureSpan">grunt-angular-builder.sourceExtract.</span>trimComments
        <span class="apidocSignatureSpan">(source)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">trimComments = function (source)
{
  return source.replace (TRIM_COMMENTS_TOP, '').replace (TRIM_COMMENTS_BOTTOM, '');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.grunt-angular-builder.sourceTrans" id="apidoc.module.grunt-angular-builder.sourceTrans">module grunt-angular-builder.sourceTrans</a></h1>


    <h2>
        <a href="#apidoc.element.grunt-angular-builder.sourceTrans.optimize" id="apidoc.element.grunt-angular-builder.sourceTrans.optimize">
        function <span class="apidocSignatureSpan">grunt-angular-builder.sourceTrans.</span>optimize
        <span class="apidocSignatureSpan">(source, moduleName, moduleVar)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">optimize = function (source, moduleName, moduleVar)
{
<span class="apidocCodeCommentSpan">  /**
   * Source code with all white space and comments removed from both ends.
   * @type {string}
   */
</span>  var clean = sourceExtract.trimComments (source);

  // Extract the function's body and some additional information about the module and how it's being declared.
  var modInfo = sourceExtract.getModuleClosureInfo (clean);

  // Check if the script already encloses code inside a self-invoking closure.
  if (modInfo) {

    // Sanity check.
    if (modInfo.moduleName &amp;&amp; modInfo.moduleName !== moduleName)
      return /** @type {OperationResult} */ {status: TRANS_STAT.INVALID_DECLARATION, data: modInfo.moduleName};

    // Let's get that closure.
    source = sourceExtract.extractClosure (source, clean, modInfo.closureBody);

    // If the angular module is already being passed as a parameter to the closure, and that parameter has a different
    // name from the preset name for module references, rename that parameter to the predefined name.
    if (modInfo.moduleVar &amp;&amp; modInfo.moduleDecl &amp;&amp; modInfo.moduleVar !== moduleVar)
    // Let the caller decide what to do.
      return /** @type {OperationResult} */ {
        status: TRANS_STAT.RENAME_REQUIRED,
        data:   modInfo
      };
    return /** @type {OperationResult} */ {status: TRANS_STAT.OK, data: source};
  }
  // No closure was detected.
  return /** @type {OperationResult} */ {status: TRANS_STAT.NO_CLOSURE_FOUND};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
};

//--------------------------------------------------------------------------------------------------------------------
// PRIVATE
//--------------------------------------------------------------------------------------------------------------------

/**
 * Calls sourceTrans.<span class="apidocCodeKeywordSpan">optimize</span>() and handles the result.
 *
 * @param {string} source
 * @param {string} path For error messages.
 * @param {ModuleDef} module
 * @returns {OperationResult} The transformed source code.
 * @throws Error Sanity check.
 */
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.grunt-angular-builder.sourceTrans.renameModuleRefExps" id="apidoc.element.grunt-angular-builder.sourceTrans.renameModuleRefExps">
        function <span class="apidocSignatureSpan">grunt-angular-builder.sourceTrans.</span>renameModuleRefExps
        <span class="apidocSignatureSpan">(module, source, moduleVar)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">renameModuleRefExps = function (module, source, moduleVar)
{
<span class="apidocCodeCommentSpan">  /** Matches the start of a declaration for the current module.*/
</span>  var declPattern = sourceExtract.moduleExtractionPattern (module.name);

  return source.replace (declPattern, function (decl, assign, configFn, semicolon)
  {
    return (assign || '') + (semicolon &amp;&amp; !assign ? '' : moduleVar + (semicolon || ''));
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.grunt-angular-builder.sourceTrans.renameModuleVariableRefs" id="apidoc.element.grunt-angular-builder.sourceTrans.renameModuleVariableRefs">
        function <span class="apidocSignatureSpan">grunt-angular-builder.sourceTrans.</span>renameModuleVariableRefs
        <span class="apidocSignatureSpan">(source, oldVar, moduleVar)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">renameModuleVariableRefs = function (source, oldVar, moduleVar)
{
  return source.replace (new RegExp (sprintf (MATCH_IDENTIFIER_EXP, oldVar), 'g'), moduleVar);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.grunt-angular-builder.sourceTrans.validateUnwrappedCode" id="apidoc.element.grunt-angular-builder.sourceTrans.validateUnwrappedCode">
        function <span class="apidocSignatureSpan">grunt-angular-builder.sourceTrans.</span>validateUnwrappedCode
        <span class="apidocSignatureSpan">(source)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">validateUnwrappedCode = function (source)
{
  var sandbox = sandboxRun.detectInvalidSourceCode (source);
  return sandbox || true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.grunt-angular-builder.types" id="apidoc.module.grunt-angular-builder.types">module grunt-angular-builder.types</a></h1>


    <h2>
        <a href="#apidoc.element.grunt-angular-builder.types.Context" id="apidoc.element.grunt-angular-builder.types.Context">
        function <span class="apidocSignatureSpan">grunt-angular-builder.types.</span>Context
        <span class="apidocSignatureSpan">(grunt, task, defaultOptions)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Context(grunt, task, defaultOptions)
{
  this.grunt = grunt;
  this.options = extend ({}, defaultOptions, task.options ());
  if (task.flags.debug !== undefined || grunt.option ('build') === 'debug') {
    this.options.debugBuild.enabled = true;
    this.options.releaseBuild.enabled = false;
  }
  this.verbose = grunt.option ('verbose');
  // Clone the external modules and use it as a starting point.
  this.modules = extend ({}, this._setupExternalModules ());
  // Reset tracer.
  this.loaded = {};
  // Reset the scripts list to a clone of the `require` option or to an empty list.
  this.standaloneScripts = (this.options.require || []).slice ();
  this.shared = {};
  this._events = {};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.grunt-angular-builder.types.ExtensionInterface" id="apidoc.element.grunt-angular-builder.types.ExtensionInterface">
        function <span class="apidocSignatureSpan">grunt-angular-builder.types.</span>ExtensionInterface
        <span class="apidocSignatureSpan">(context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function MiddlewareInterface(context)
{}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.grunt-angular-builder.types.ModuleDef" id="apidoc.element.grunt-angular-builder.types.ModuleDef">
        function <span class="apidocSignatureSpan">grunt-angular-builder.types.</span>ModuleDef
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ModuleDef(name)
{
  this.name = name;
  this.bodies = [];
  this.filePaths = [];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.grunt-angular-builder.types.TaskOptions" id="apidoc.element.grunt-angular-builder.types.TaskOptions">
        function <span class="apidocSignatureSpan">grunt-angular-builder.types.</span>TaskOptions
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function TaskOptions()
{}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
</body></html>